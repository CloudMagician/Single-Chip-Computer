ORG		0000H
LJMP 	START
ORG 	0050H

TAB:
DB 0C0H,0F9H,0A4H,0B0H,99H,92H,82H,0F8H,80H,90H

START:
P4 		EQU 	0C0H
P4SW 	EQU 	0BBH
CLK 	EQU 	P4.4
DAT 	EQU 	P4.5
SW 		EQU 	P3.6
MOV 	DPTR,#TAB
MOV 	P4SW,#70H

INIT:
MOV 	R6,#0
MOV 	R5,#0
MOV 	R4,#0


MAIN:
SHOWNUM:
MOV 	A,R6
MOV 	DPTR,#TAB
MOVC 	A,@A+DPTR
LCALL 	SHOW
 
MOV 	A,R5
MOV 	DPTR,#TAB
MOVC 	A,@A+DPTR
LCALL 	SHOW
 
MOV 	A,R4
MOV 	DPTR,#TAB
MOVC 	A,@A+DPTR
LCALL 	SHOW
 
LCALL 	DELAY

PAUSE:
NOP 
JNB 	SW,PAUSE

INCNUM:
INC 	R6
CJNE 	R6,#10,MAIN
INC 	R5
MOV 	R6,#0
CJNE 	R5,#10,MAIN
INC 	R4
MOV 	R5,#0
CJNE 	R4,#10,MAIN
MOV 	R4,#0
LJMP 	MAIN


SHOW:
MOV 	R0,#8
SLP:
CLR 	CLK
RLC 	A
MOV 	DAT,C
SETB 	CLK
DJNZ 	R0,SLP
RET


DELAY:
MOV 	R2,#200
LOOPS:	
MOV 	B,#250
LOOPR:	
DJNZ 	B,LOOPR 
DJNZ 	R2,LOOPS 
RET

END